{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\", \"children\", \"text\", \"icon\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useLabelMarker = function useLabelMarker(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable,\n      text,\n      icon\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var {\n    map,\n    AMap\n  } = useMapContext();\n  var [labelMarker, setLabelMarker] = useState();\n  // const { container, Portal } = usePortal();\n\n  useEffect(() => {\n    if (!labelMarker && map) {\n      var _v;\n      var initText = text;\n      if (!text) {\n        initText = {\n          // 要展示的文字内容\n          content: '',\n          // 文字方向，有 icon 时为围绕文字的方向，没有 icon 时，则为相对 position 的位置\n          direction: 'right',\n          // 在 direction 基础上的偏移量\n          offset: [-20, -5],\n          // 文字样式\n          style: {\n            // 字体大小\n            fontSize: 12,\n            // 字体颜色\n            fillColor: '#22886f',\n            // 描边颜色\n            strokeColor: '#fff',\n            // 描边宽度\n            strokeWidth: 2\n          }\n        };\n      }\n      var initIcon = icon;\n      if (!initIcon) {\n        initIcon = {\n          // 图标类型，现阶段只支持 image 类型\n          // 图片 url\n          image: 'http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png',\n          // 图片尺寸\n          size: [19, 32],\n          // 图片相对 position 的锚点，默认为 bottom-center\n          anchor: 'center'\n        };\n      }\n\n      // if (props.children) {\n      //   other.content = container;\n      // }\n      var instance = new AMap.LabelMarker(_extends({\n        style: initIcon,\n        icon: initIcon,\n        text: initText\n      }, other));\n      setLabelMarker(instance);\n\n      //  issue #259  兼容 v1.4.xxx 版本\n      if ((AMap == null ? void 0 : (_v = AMap.v) == null ? void 0 : _v.indexOf('1.4')) === 0) {\n        var labelMarkersLayer;\n        if (map.labelMarkersLayer) {\n          labelMarkersLayer = map.labelMarkersLayer;\n        } else {\n          map.labelMarkersLayer = labelMarkersLayer = new AMap.LabelsLayer({\n            zooms: [3, 20],\n            zIndex: 101,\n            collision: true,\n            animation: true\n          });\n          map.add(labelMarkersLayer);\n        }\n        labelMarkersLayer.add(instance);\n      }\n      map.add(instance);\n    }\n    return () => {\n      if (labelMarker) {\n        var _v2;\n        //  issue #259  兼容 v1.4.xxx 版本\n        if ((AMap == null ? void 0 : (_v2 = AMap.v) == null ? void 0 : _v2.indexOf('1.4')) === 0) {\n          var _labelMarkersLayer;\n          map == null ? void 0 : (_labelMarkersLayer = map.labelMarkersLayer) == null ? void 0 : _labelMarkersLayer.remove(labelMarker);\n        }\n        setLabelMarker(undefined);\n      }\n    };\n  }, [labelMarker, map]);\n  useVisiable(labelMarker, visiable);\n  useSettingProperties(labelMarker, props, ['Name', 'Position', 'Zooms', 'Opacity', 'zIndex', 'Rank', 'Text', 'Icon', 'ExtData', 'Top']);\n  useEventProperties(labelMarker, props, ['onMousedown', 'onMouseup', 'onTouchstart', 'onTouchmove', 'onTouchend', 'onClick', 'onMousemove', 'onMouseover', 'onMouseout']);\n  return {\n    labelMarker,\n    setLabelMarker\n  };\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","useState","useEffect","useVisiable","useEventProperties","useSettingProperties","useMapContext","useLabelMarker","props","visiable","text","icon","other","map","AMap","labelMarker","setLabelMarker","_v","initText","content","direction","offset","style","fontSize","fillColor","strokeColor","strokeWidth","initIcon","image","size","anchor","instance","LabelMarker","v","indexOf","labelMarkersLayer","LabelsLayer","zooms","zIndex","collision","animation","add","_v2","_labelMarkersLayer","remove","undefined"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/node_modules/@uiw/react-amap-label-marker/esm/useLabelMarker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\", \"children\", \"text\", \"icon\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useLabelMarker = function useLabelMarker(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable,\n      text,\n      icon\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var {\n    map,\n    AMap\n  } = useMapContext();\n  var [labelMarker, setLabelMarker] = useState();\n  // const { container, Portal } = usePortal();\n\n  useEffect(() => {\n    if (!labelMarker && map) {\n      var _v;\n      var initText = text;\n      if (!text) {\n        initText = {\n          // 要展示的文字内容\n          content: '',\n          // 文字方向，有 icon 时为围绕文字的方向，没有 icon 时，则为相对 position 的位置\n          direction: 'right',\n          // 在 direction 基础上的偏移量\n          offset: [-20, -5],\n          // 文字样式\n          style: {\n            // 字体大小\n            fontSize: 12,\n            // 字体颜色\n            fillColor: '#22886f',\n            // 描边颜色\n            strokeColor: '#fff',\n            // 描边宽度\n            strokeWidth: 2\n          }\n        };\n      }\n      var initIcon = icon;\n      if (!initIcon) {\n        initIcon = {\n          // 图标类型，现阶段只支持 image 类型\n          // 图片 url\n          image: 'http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png',\n          // 图片尺寸\n          size: [19, 32],\n          // 图片相对 position 的锚点，默认为 bottom-center\n          anchor: 'center'\n        };\n      }\n\n      // if (props.children) {\n      //   other.content = container;\n      // }\n      var instance = new AMap.LabelMarker(_extends({\n        style: initIcon,\n        icon: initIcon,\n        text: initText\n      }, other));\n      setLabelMarker(instance);\n\n      //  issue #259  兼容 v1.4.xxx 版本\n      if ((AMap == null ? void 0 : (_v = AMap.v) == null ? void 0 : _v.indexOf('1.4')) === 0) {\n        var labelMarkersLayer;\n        if (map.labelMarkersLayer) {\n          labelMarkersLayer = map.labelMarkersLayer;\n        } else {\n          map.labelMarkersLayer = labelMarkersLayer = new AMap.LabelsLayer({\n            zooms: [3, 20],\n            zIndex: 101,\n            collision: true,\n            animation: true\n          });\n          map.add(labelMarkersLayer);\n        }\n        labelMarkersLayer.add(instance);\n      }\n      map.add(instance);\n    }\n    return () => {\n      if (labelMarker) {\n        var _v2;\n        //  issue #259  兼容 v1.4.xxx 版本\n        if ((AMap == null ? void 0 : (_v2 = AMap.v) == null ? void 0 : _v2.indexOf('1.4')) === 0) {\n          var _labelMarkersLayer;\n          map == null ? void 0 : (_labelMarkersLayer = map.labelMarkersLayer) == null ? void 0 : _labelMarkersLayer.remove(labelMarker);\n        }\n        setLabelMarker(undefined);\n      }\n    };\n  }, [labelMarker, map]);\n  useVisiable(labelMarker, visiable);\n  useSettingProperties(labelMarker, props, ['Name', 'Position', 'Zooms', 'Opacity', 'zIndex', 'Rank', 'Text', 'Icon', 'ExtData', 'Top']);\n  useEventProperties(labelMarker, props, ['onMousedown', 'onMouseup', 'onTouchstart', 'onTouchmove', 'onTouchend', 'onClick', 'onMousemove', 'onMouseover', 'onMouseout']);\n  return {\n    labelMarker,\n    setLabelMarker\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}