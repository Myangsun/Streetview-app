{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties, usePortal } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useText = function useText(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var [text, setText] = useState();\n  var {\n    map\n  } = useMapContext();\n  var {\n    container,\n    Portal\n  } = usePortal();\n  useEffect(() => {\n    if (!AMap || !map) return;\n    if (!text) {\n      if (props.children) {\n        other.text = container.innerHTML;\n      }\n      var instance = new AMap.Text(_extends({}, other));\n      map.add(instance);\n      setText(instance);\n      return () => {\n        if (instance) {\n          instance.remove();\n          setText(undefined);\n        }\n      };\n    }\n  }, [map]);\n  useEffect(() => {\n    if (text) {\n      text.setText(props.children ? container.innerHTML : props.text || '');\n    }\n  }, [props.children, props.text, container, text]);\n  useVisiable(text, visiable);\n  useSettingProperties(text, props, ['Style', 'Title', 'Clickable', 'Draggable', 'Map', 'Position', 'Offset', 'Angle', 'zIndex', 'Top', 'Cursor', 'ExtData']);\n  useEventProperties(text, props, ['onMoving', 'onTouchMove', 'onTouchEnd', 'onMoveaLong', 'onTouchStart', 'onMoveEnd', 'onClick', 'onDblClick', 'onRightClick', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseDown', 'onMouseUp', 'onDragStart', 'onDragEnd', 'onDragging']);\n  return {\n    text,\n    setText,\n    TextPortal: Portal\n  };\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","useState","useEffect","useVisiable","useEventProperties","useSettingProperties","usePortal","useMapContext","useText","props","visiable","other","text","setText","map","container","Portal","AMap","children","innerHTML","instance","Text","add","remove","undefined","TextPortal"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/node_modules/@uiw/react-amap-text/esm/useText.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties, usePortal } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useText = function useText(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var [text, setText] = useState();\n  var {\n    map\n  } = useMapContext();\n  var {\n    container,\n    Portal\n  } = usePortal();\n  useEffect(() => {\n    if (!AMap || !map) return;\n    if (!text) {\n      if (props.children) {\n        other.text = container.innerHTML;\n      }\n      var instance = new AMap.Text(_extends({}, other));\n      map.add(instance);\n      setText(instance);\n      return () => {\n        if (instance) {\n          instance.remove();\n          setText(undefined);\n        }\n      };\n    }\n  }, [map]);\n  useEffect(() => {\n    if (text) {\n      text.setText(props.children ? container.innerHTML : props.text || '');\n    }\n  }, [props.children, props.text, container, text]);\n  useVisiable(text, visiable);\n  useSettingProperties(text, props, ['Style', 'Title', 'Clickable', 'Draggable', 'Map', 'Position', 'Offset', 'Angle', 'zIndex', 'Top', 'Cursor', 'ExtData']);\n  useEventProperties(text, props, ['onMoving', 'onTouchMove', 'onTouchEnd', 'onMoveaLong', 'onTouchStart', 'onMoveEnd', 'onClick', 'onDblClick', 'onRightClick', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseDown', 'onMouseUp', 'onDragStart', 'onDragEnd', 'onDragging']);\n  return {\n    text,\n    setText,\n    TextPortal: Portal\n  };\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,6BAA6B,MAAM,qDAAqD;AAC/F,IAAIC,SAAS,GAAG,CAAC,UAAU,CAAC;AAC5B,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,kBAAkB,EAAEC,oBAAoB,EAAEC,SAAS,QAAQ,uBAAuB;AACxG,SAASC,aAAa,QAAQ,qBAAqB;AACnD,OAAO,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACC,KAAK,EAAE;EAC3C,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IACpBA,KAAK,GAAG,CAAC,CAAC;EACZ;EACA,IAAI;MACAC;IACF,CAAC,GAAGD,KAAK;IACTE,KAAK,GAAGZ,6BAA6B,CAACU,KAAK,EAAET,SAAS,CAAC;EACzD,IAAI,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,CAAC;EAChC,IAAI;IACFa;EACF,CAAC,GAAGP,aAAa,CAAC,CAAC;EACnB,IAAI;IACFQ,SAAS;IACTC;EACF,CAAC,GAAGV,SAAS,CAAC,CAAC;EACfJ,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,IAAI,IAAI,CAACH,GAAG,EAAE;IACnB,IAAI,CAACF,IAAI,EAAE;MACT,IAAIH,KAAK,CAACS,QAAQ,EAAE;QAClBP,KAAK,CAACC,IAAI,GAAGG,SAAS,CAACI,SAAS;MAClC;MACA,IAAIC,QAAQ,GAAG,IAAIH,IAAI,CAACI,IAAI,CAACvB,QAAQ,CAAC,CAAC,CAAC,EAAEa,KAAK,CAAC,CAAC;MACjDG,GAAG,CAACQ,GAAG,CAACF,QAAQ,CAAC;MACjBP,OAAO,CAACO,QAAQ,CAAC;MACjB,OAAO,MAAM;QACX,IAAIA,QAAQ,EAAE;UACZA,QAAQ,CAACG,MAAM,CAAC,CAAC;UACjBV,OAAO,CAACW,SAAS,CAAC;QACpB;MACF,CAAC;IACH;EACF,CAAC,EAAE,CAACV,GAAG,CAAC,CAAC;EACTZ,SAAS,CAAC,MAAM;IACd,IAAIU,IAAI,EAAE;MACRA,IAAI,CAACC,OAAO,CAACJ,KAAK,CAACS,QAAQ,GAAGH,SAAS,CAACI,SAAS,GAAGV,KAAK,CAACG,IAAI,IAAI,EAAE,CAAC;IACvE;EACF,CAAC,EAAE,CAACH,KAAK,CAACS,QAAQ,EAAET,KAAK,CAACG,IAAI,EAAEG,SAAS,EAAEH,IAAI,CAAC,CAAC;EACjDT,WAAW,CAACS,IAAI,EAAEF,QAAQ,CAAC;EAC3BL,oBAAoB,CAACO,IAAI,EAAEH,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;EAC3JL,kBAAkB,CAACQ,IAAI,EAAEH,KAAK,EAAE,CAAC,UAAU,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,cAAc,EAAE,WAAW,EAAE,SAAS,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;EACjR,OAAO;IACLG,IAAI;IACJC,OAAO;IACPY,UAAU,EAAET;EACd,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}