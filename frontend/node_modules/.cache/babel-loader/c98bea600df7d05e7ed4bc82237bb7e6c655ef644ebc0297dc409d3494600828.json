{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nvar _excluded = [\"className\", \"children\"];\n/// <reference types=\"@uiw/react-amap-types\" />\nimport React, { useRef, useEffect, useImperativeHandle, Fragment, Children, cloneElement, isValidElement, forwardRef, useReducer } from 'react';\nimport { useMap } from './useMap';\nimport { Context, reducer, initialState } from './context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport * from './useMap';\nexport * from './context';\nexport var Provider = props => {\n  var [state, dispatch] = useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsx(Context.Provider, {\n    value: _extends({}, state, {\n      state,\n      dispatch\n    }),\n    children: props.children\n  });\n};\nexport var Map = /*#__PURE__*/forwardRef((_ref, ref) => {\n  var {\n      className,\n      children\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var AMap = window.AMap;\n  var [state, dispatch] = useReducer(reducer, initialState);\n  var elmRef = useRef(null);\n  var {\n    setContainer,\n    container,\n    map\n  } = useMap(_extends({\n    container: props.container || elmRef.current\n  }, props));\n  useEffect(() => setContainer(elmRef.current), [elmRef.current]);\n  useImperativeHandle(ref, () => _extends({}, props, {\n    map,\n    AMap,\n    container: props.container || elmRef.current\n  }), [map]);\n  var childs = Children.toArray(children);\n  useEffect(() => {\n    if (map) {\n      dispatch({\n        map,\n        container: elmRef.current,\n        AMap\n      });\n    }\n  }, [map]);\n  return /*#__PURE__*/_jsxs(Context.Provider, {\n    value: _extends({}, state, {\n      state,\n      dispatch\n    }),\n    children: [!props.container && /*#__PURE__*/_jsx(\"div\", {\n      ref: elmRef,\n      className: className,\n      style: _extends({\n        fontSize: 1,\n        width: '100%',\n        height: '100%'\n      }, props.style)\n    }), AMap && map && typeof children === 'function' && children({\n      AMap,\n      map,\n      container\n    }), AMap && map && childs.map((child, key) => {\n      if (! /*#__PURE__*/isValidElement(child)) return null;\n      if (typeof child === 'string') {\n        return /*#__PURE__*/cloneElement( /*#__PURE__*/_jsx(Fragment, {\n          children: child\n        }), {\n          key\n        });\n      }\n      if (child.type && typeof child.type === 'string') {\n        return /*#__PURE__*/cloneElement(child, {\n          key\n        });\n      }\n      return /*#__PURE__*/cloneElement(child, _extends({}, child.props, {\n        AMap,\n        map,\n        container,\n        key\n      }));\n    })]\n  });\n});","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_excluded","React","useRef","useEffect","useImperativeHandle","Fragment","Children","cloneElement","isValidElement","forwardRef","useReducer","useMap","Context","reducer","initialState","jsx","_jsx","jsxs","_jsxs","Provider","props","state","dispatch","value","children","Map","_ref","ref","className","AMap","window","elmRef","setContainer","container","map","current","childs","toArray","style","fontSize","width","height","child","key","type"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/node_modules/@uiw/react-amap-map/esm/index.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nvar _excluded = [\"className\", \"children\"];\n/// <reference types=\"@uiw/react-amap-types\" />\nimport React, { useRef, useEffect, useImperativeHandle, Fragment, Children, cloneElement, isValidElement, forwardRef, useReducer } from 'react';\nimport { useMap } from './useMap';\nimport { Context, reducer, initialState } from './context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport * from './useMap';\nexport * from './context';\nexport var Provider = props => {\n  var [state, dispatch] = useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsx(Context.Provider, {\n    value: _extends({}, state, {\n      state,\n      dispatch\n    }),\n    children: props.children\n  });\n};\nexport var Map = /*#__PURE__*/forwardRef((_ref, ref) => {\n  var {\n      className,\n      children\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var AMap = window.AMap;\n  var [state, dispatch] = useReducer(reducer, initialState);\n  var elmRef = useRef(null);\n  var {\n    setContainer,\n    container,\n    map\n  } = useMap(_extends({\n    container: props.container || elmRef.current\n  }, props));\n  useEffect(() => setContainer(elmRef.current), [elmRef.current]);\n  useImperativeHandle(ref, () => _extends({}, props, {\n    map,\n    AMap,\n    container: props.container || elmRef.current\n  }), [map]);\n  var childs = Children.toArray(children);\n  useEffect(() => {\n    if (map) {\n      dispatch({\n        map,\n        container: elmRef.current,\n        AMap\n      });\n    }\n  }, [map]);\n  return /*#__PURE__*/_jsxs(Context.Provider, {\n    value: _extends({}, state, {\n      state,\n      dispatch\n    }),\n    children: [!props.container && /*#__PURE__*/_jsx(\"div\", {\n      ref: elmRef,\n      className: className,\n      style: _extends({\n        fontSize: 1,\n        width: '100%',\n        height: '100%'\n      }, props.style)\n    }), AMap && map && typeof children === 'function' && children({\n      AMap,\n      map,\n      container\n    }), AMap && map && childs.map((child, key) => {\n      if (! /*#__PURE__*/isValidElement(child)) return null;\n      if (typeof child === 'string') {\n        return /*#__PURE__*/cloneElement( /*#__PURE__*/_jsx(Fragment, {\n          children: child\n        }), {\n          key\n        });\n      }\n      if (child.type && typeof child.type === 'string') {\n        return /*#__PURE__*/cloneElement(child, {\n          key\n        });\n      }\n      return /*#__PURE__*/cloneElement(child, _extends({}, child.props, {\n        AMap,\n        map,\n        container,\n        key\n      }));\n    })]\n  });\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}