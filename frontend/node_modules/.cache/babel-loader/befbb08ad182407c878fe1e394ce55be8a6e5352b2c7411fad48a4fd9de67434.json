{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { useEventProperties } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var PolygonEditor = /*#__PURE__*/forwardRef((props, ref) => {\n  var {\n    active,\n    polygon\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  var [visiable, setVisiable] = useState(true);\n  var [polyEditor, setPolyEditor] = useState();\n  useImperativeHandle(ref, () => _extends({}, props, {\n    polyEditor\n  }));\n  useEffect(() => {\n    if (polygon && map && !polyEditor && AMap && AMap.PolygonEditor) {\n      var instance = new AMap.PolygonEditor(map, polygon);\n      polygon.on('hide', () => setVisiable(false));\n      polygon.on('show', () => setVisiable(true));\n      setPolyEditor(instance);\n    }\n  }, [polygon]);\n  useEffect(() => {\n    if (!polyEditor) {\n      return;\n    }\n    if (visiable && !active) {\n      polyEditor.close();\n      props.onEnd && props.onEnd({\n        target: props.polygon\n      });\n    } else if (visiable && active) {\n      polyEditor.open();\n      props.onAdd && props.onAdd({\n        target: props.polygon\n      });\n    } else if (!visiable && active) {\n      polyEditor.close();\n      props.onEnd && props.onEnd({\n        target: props.polygon\n      });\n    }\n  }, [active, visiable]);\n  useEventProperties(polyEditor, props, ['onEnd', 'onAddnode', 'onRemovenode', 'onAdjust', 'onMove', 'onAdd']);\n  return null;\n});","map":{"version":3,"names":["_extends","forwardRef","useEffect","useImperativeHandle","useState","useEventProperties","useMapContext","PolygonEditor","props","ref","active","polygon","map","visiable","setVisiable","polyEditor","setPolyEditor","AMap","instance","on","close","onEnd","target","open","onAdd"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/node_modules/@uiw/react-amap-polygon-editor/esm/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { useEventProperties } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var PolygonEditor = /*#__PURE__*/forwardRef((props, ref) => {\n  var {\n    active,\n    polygon\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  var [visiable, setVisiable] = useState(true);\n  var [polyEditor, setPolyEditor] = useState();\n  useImperativeHandle(ref, () => _extends({}, props, {\n    polyEditor\n  }));\n  useEffect(() => {\n    if (polygon && map && !polyEditor && AMap && AMap.PolygonEditor) {\n      var instance = new AMap.PolygonEditor(map, polygon);\n      polygon.on('hide', () => setVisiable(false));\n      polygon.on('show', () => setVisiable(true));\n      setPolyEditor(instance);\n    }\n  }, [polygon]);\n  useEffect(() => {\n    if (!polyEditor) {\n      return;\n    }\n    if (visiable && !active) {\n      polyEditor.close();\n      props.onEnd && props.onEnd({\n        target: props.polygon\n      });\n    } else if (visiable && active) {\n      polyEditor.open();\n      props.onAdd && props.onAdd({\n        target: props.polygon\n      });\n    } else if (!visiable && active) {\n      polyEditor.close();\n      props.onEnd && props.onEnd({\n        target: props.polygon\n      });\n    }\n  }, [active, visiable]);\n  useEventProperties(polyEditor, props, ['onEnd', 'onAddnode', 'onRemovenode', 'onAdjust', 'onMove', 'onAdd']);\n  return null;\n});"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,gCAAgC;AACrD,SAASC,UAAU,EAAEC,SAAS,EAAEC,mBAAmB,EAAEC,QAAQ,QAAQ,OAAO;AAC5E,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,aAAa,QAAQ,qBAAqB;AACnD,OAAO,IAAIC,aAAa,GAAG,aAAaN,UAAU,CAAC,CAACO,KAAK,EAAEC,GAAG,KAAK;EACjE,IAAI;IACFC,MAAM;IACNC;EACF,CAAC,GAAGH,KAAK;EACT,IAAI;IACFI;EACF,CAAC,GAAGN,aAAa,CAAC,CAAC;EACnB,IAAI,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,IAAI,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,CAAC;EAC5CD,mBAAmB,CAACM,GAAG,EAAE,MAAMT,QAAQ,CAAC,CAAC,CAAC,EAAEQ,KAAK,EAAE;IACjDO;EACF,CAAC,CAAC,CAAC;EACHb,SAAS,CAAC,MAAM;IACd,IAAIS,OAAO,IAAIC,GAAG,IAAI,CAACG,UAAU,IAAIE,IAAI,IAAIA,IAAI,CAACV,aAAa,EAAE;MAC/D,IAAIW,QAAQ,GAAG,IAAID,IAAI,CAACV,aAAa,CAACK,GAAG,EAAED,OAAO,CAAC;MACnDA,OAAO,CAACQ,EAAE,CAAC,MAAM,EAAE,MAAML,WAAW,CAAC,KAAK,CAAC,CAAC;MAC5CH,OAAO,CAACQ,EAAE,CAAC,MAAM,EAAE,MAAML,WAAW,CAAC,IAAI,CAAC,CAAC;MAC3CE,aAAa,CAACE,QAAQ,CAAC;IACzB;EACF,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EACbT,SAAS,CAAC,MAAM;IACd,IAAI,CAACa,UAAU,EAAE;MACf;IACF;IACA,IAAIF,QAAQ,IAAI,CAACH,MAAM,EAAE;MACvBK,UAAU,CAACK,KAAK,CAAC,CAAC;MAClBZ,KAAK,CAACa,KAAK,IAAIb,KAAK,CAACa,KAAK,CAAC;QACzBC,MAAM,EAAEd,KAAK,CAACG;MAChB,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIE,QAAQ,IAAIH,MAAM,EAAE;MAC7BK,UAAU,CAACQ,IAAI,CAAC,CAAC;MACjBf,KAAK,CAACgB,KAAK,IAAIhB,KAAK,CAACgB,KAAK,CAAC;QACzBF,MAAM,EAAEd,KAAK,CAACG;MAChB,CAAC,CAAC;IACJ,CAAC,MAAM,IAAI,CAACE,QAAQ,IAAIH,MAAM,EAAE;MAC9BK,UAAU,CAACK,KAAK,CAAC,CAAC;MAClBZ,KAAK,CAACa,KAAK,IAAIb,KAAK,CAACa,KAAK,CAAC;QACzBC,MAAM,EAAEd,KAAK,CAACG;MAChB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACD,MAAM,EAAEG,QAAQ,CAAC,CAAC;EACtBR,kBAAkB,CAACU,UAAU,EAAEP,KAAK,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;EAC5G,OAAO,IAAI;AACb,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}