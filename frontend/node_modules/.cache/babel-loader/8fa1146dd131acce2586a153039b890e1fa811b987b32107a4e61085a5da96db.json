{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\", \"children\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties, usePortal } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useMarker = function useMarker(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var {\n    map\n  } = useMapContext();\n  var [marker, setMarker] = useState();\n  var {\n    container,\n    Portal\n  } = usePortal();\n  useEffect(() => {\n    if (!marker && map) {\n      if (props.children) {\n        other.content = container;\n      }\n      var instance = new AMap.Marker(_extends({}, other));\n      map.add(instance);\n      setMarker(instance);\n    }\n    return () => {\n      if (marker) {\n        // @fix [244] https://github.com/uiwjs/react-amap/issues/244\n        // typeof marker.remove === 'function' && marker.remove();\n        marker.setMap(null);\n        setMarker(undefined);\n      }\n    };\n  }, [map, marker]);\n  useVisiable(marker, visiable);\n  useSettingProperties(marker, props, ['Path', 'Anchor', 'Offset', 'Animation', 'Clickable', 'Position', 'Angle', 'Label', 'zIndex', 'Icon', 'Draggable', 'Cursor', 'Content', 'Map', 'Title', 'Top', 'Shadow', 'Shape', 'ExtData']);\n  useEventProperties(marker, props, ['onClick', 'onDblClick', 'onRightClick', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseDown', 'onMouseUp', 'onDragStart', 'onDragging', 'onDragEnd', 'onMoving', 'onMoveEnd', 'onMoveAlong', 'onTouchStart', 'onTouchMove', 'onTouchEnd']);\n  return {\n    marker,\n    setMarker,\n    MarkerPortal: Portal\n  };\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","useState","useEffect","useVisiable","useEventProperties","useSettingProperties","usePortal","useMapContext","useMarker","props","visiable","other","map","marker","setMarker","container","Portal","children","content","instance","AMap","Marker","add","setMap","undefined","MarkerPortal"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/frontend/node_modules/@uiw/react-amap-marker/esm/useMarker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"visiable\", \"children\"];\nimport { useState, useEffect } from 'react';\nimport { useVisiable, useEventProperties, useSettingProperties, usePortal } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport var useMarker = function useMarker(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n      visiable\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var {\n    map\n  } = useMapContext();\n  var [marker, setMarker] = useState();\n  var {\n    container,\n    Portal\n  } = usePortal();\n  useEffect(() => {\n    if (!marker && map) {\n      if (props.children) {\n        other.content = container;\n      }\n      var instance = new AMap.Marker(_extends({}, other));\n      map.add(instance);\n      setMarker(instance);\n    }\n    return () => {\n      if (marker) {\n        // @fix [244] https://github.com/uiwjs/react-amap/issues/244\n        // typeof marker.remove === 'function' && marker.remove();\n        marker.setMap(null);\n        setMarker(undefined);\n      }\n    };\n  }, [map, marker]);\n  useVisiable(marker, visiable);\n  useSettingProperties(marker, props, ['Path', 'Anchor', 'Offset', 'Animation', 'Clickable', 'Position', 'Angle', 'Label', 'zIndex', 'Icon', 'Draggable', 'Cursor', 'Content', 'Map', 'Title', 'Top', 'Shadow', 'Shape', 'ExtData']);\n  useEventProperties(marker, props, ['onClick', 'onDblClick', 'onRightClick', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseDown', 'onMouseUp', 'onDragStart', 'onDragging', 'onDragEnd', 'onMoving', 'onMoveEnd', 'onMoveAlong', 'onTouchStart', 'onTouchMove', 'onTouchEnd']);\n  return {\n    marker,\n    setMarker,\n    MarkerPortal: Portal\n  };\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,6BAA6B,MAAM,qDAAqD;AAC/F,IAAIC,SAAS,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;AACxC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,kBAAkB,EAAEC,oBAAoB,EAAEC,SAAS,QAAQ,uBAAuB;AACxG,SAASC,aAAa,QAAQ,qBAAqB;AACnD,OAAO,IAAIC,SAAS,GAAG,SAASA,SAASA,CAACC,KAAK,EAAE;EAC/C,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IACpBA,KAAK,GAAG,CAAC,CAAC;EACZ;EACA,IAAI;MACAC;IACF,CAAC,GAAGD,KAAK;IACTE,KAAK,GAAGZ,6BAA6B,CAACU,KAAK,EAAET,SAAS,CAAC;EACzD,IAAI;IACFY;EACF,CAAC,GAAGL,aAAa,CAAC,CAAC;EACnB,IAAI,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,CAAC;EACpC,IAAI;IACFc,SAAS;IACTC;EACF,CAAC,GAAGV,SAAS,CAAC,CAAC;EACfJ,SAAS,CAAC,MAAM;IACd,IAAI,CAACW,MAAM,IAAID,GAAG,EAAE;MAClB,IAAIH,KAAK,CAACQ,QAAQ,EAAE;QAClBN,KAAK,CAACO,OAAO,GAAGH,SAAS;MAC3B;MACA,IAAII,QAAQ,GAAG,IAAIC,IAAI,CAACC,MAAM,CAACvB,QAAQ,CAAC,CAAC,CAAC,EAAEa,KAAK,CAAC,CAAC;MACnDC,GAAG,CAACU,GAAG,CAACH,QAAQ,CAAC;MACjBL,SAAS,CAACK,QAAQ,CAAC;IACrB;IACA,OAAO,MAAM;MACX,IAAIN,MAAM,EAAE;QACV;QACA;QACAA,MAAM,CAACU,MAAM,CAAC,IAAI,CAAC;QACnBT,SAAS,CAACU,SAAS,CAAC;MACtB;IACF,CAAC;EACH,CAAC,EAAE,CAACZ,GAAG,EAAEC,MAAM,CAAC,CAAC;EACjBV,WAAW,CAACU,MAAM,EAAEH,QAAQ,CAAC;EAC7BL,oBAAoB,CAACQ,MAAM,EAAEJ,KAAK,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;EAClOL,kBAAkB,CAACS,MAAM,EAAEJ,KAAK,EAAE,CAAC,SAAS,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,aAAa,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,aAAa,EAAE,cAAc,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;EACnR,OAAO;IACLI,MAAM;IACNC,SAAS;IACTW,YAAY,EAAET;EAChB,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}