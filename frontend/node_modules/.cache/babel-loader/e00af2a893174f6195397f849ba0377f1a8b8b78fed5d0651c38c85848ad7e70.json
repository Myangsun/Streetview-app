{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useVisiable } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport function useScaleControl(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var [scaleControl, setScaleControl] = useState();\n  var {\n    position,\n    visiable,\n    offset\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  useEffect(() => {\n    if (map && !scaleControl) {\n      var instance;\n      map.plugin(['AMap.Scale'], () => {\n        instance = new AMap.Scale({\n          offset: offset,\n          position\n        });\n        map.addControl(instance);\n        setScaleControl(instance);\n      });\n      return () => {\n        if (instance) {\n          map.removeControl(instance);\n        }\n      };\n    }\n  }, [map]);\n  useVisiable(scaleControl, visiable);\n  return {\n    scaleControl,\n    setScaleControl\n  };\n}","map":{"version":3,"names":["useEffect","useState","useVisiable","useMapContext","useScaleControl","props","scaleControl","setScaleControl","position","visiable","offset","map","instance","plugin","AMap","Scale","addControl","removeControl"],"sources":["/Users/mingyang/Desktop/Application/AIGC/urban track/streetview app/node_modules/@uiw/react-amap-scale-control/esm/useScaleControl.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useVisiable } from '@uiw/react-amap-utils';\nimport { useMapContext } from '@uiw/react-amap-map';\nexport function useScaleControl(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var [scaleControl, setScaleControl] = useState();\n  var {\n    position,\n    visiable,\n    offset\n  } = props;\n  var {\n    map\n  } = useMapContext();\n  useEffect(() => {\n    if (map && !scaleControl) {\n      var instance;\n      map.plugin(['AMap.Scale'], () => {\n        instance = new AMap.Scale({\n          offset: offset,\n          position\n        });\n        map.addControl(instance);\n        setScaleControl(instance);\n      });\n      return () => {\n        if (instance) {\n          map.removeControl(instance);\n        }\n      };\n    }\n  }, [map]);\n  useVisiable(scaleControl, visiable);\n  return {\n    scaleControl,\n    setScaleControl\n  };\n}"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,uBAAuB;AACnD,SAASC,aAAa,QAAQ,qBAAqB;AACnD,OAAO,SAASC,eAAeA,CAACC,KAAK,EAAE;EACrC,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IACpBA,KAAK,GAAG,CAAC,CAAC;EACZ;EACA,IAAI,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAC,CAAC;EAChD,IAAI;IACFO,QAAQ;IACRC,QAAQ;IACRC;EACF,CAAC,GAAGL,KAAK;EACT,IAAI;IACFM;EACF,CAAC,GAAGR,aAAa,CAAC,CAAC;EACnBH,SAAS,CAAC,MAAM;IACd,IAAIW,GAAG,IAAI,CAACL,YAAY,EAAE;MACxB,IAAIM,QAAQ;MACZD,GAAG,CAACE,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE,MAAM;QAC/BD,QAAQ,GAAG,IAAIE,IAAI,CAACC,KAAK,CAAC;UACxBL,MAAM,EAAEA,MAAM;UACdF;QACF,CAAC,CAAC;QACFG,GAAG,CAACK,UAAU,CAACJ,QAAQ,CAAC;QACxBL,eAAe,CAACK,QAAQ,CAAC;MAC3B,CAAC,CAAC;MACF,OAAO,MAAM;QACX,IAAIA,QAAQ,EAAE;UACZD,GAAG,CAACM,aAAa,CAACL,QAAQ,CAAC;QAC7B;MACF,CAAC;IACH;EACF,CAAC,EAAE,CAACD,GAAG,CAAC,CAAC;EACTT,WAAW,CAACI,YAAY,EAAEG,QAAQ,CAAC;EACnC,OAAO;IACLH,YAAY;IACZC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}